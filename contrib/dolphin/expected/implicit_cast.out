create schema implicit_cast;
set current_schema to 'implicit_cast';
select 1::int1 % 1::float4;
 ?column? 
----------
 0
(1 row)

select 1::int2 % 1::float4;
 ?column? 
----------
        0
(1 row)

select 1::int4 % 1::float4;
 ?column? 
----------
        0
(1 row)

select 1::int8 % 1::float4;
 ?column? 
----------
        0
(1 row)

select 1::int1 % 1::float8;
 ?column? 
----------
 0
(1 row)

select 1::int2 % 1::float8;
 ?column? 
----------
        0
(1 row)

select 1::int4 % 1::float8;
 ?column? 
----------
        0
(1 row)

select 1::int8 % 1::float8;
 ?column? 
----------
        0
(1 row)

select 1::int1 % 1::text;
 ?column? 
----------
 0
(1 row)

select 1::int2 % 1::text;
 ?column? 
----------
        0
(1 row)

select 1::int4 % 1::text;
 ?column? 
----------
        0
(1 row)

select 1::int8 % 1::text;
 ?column? 
----------
        0
(1 row)

set dolphin.b_compatibility_mode to off;
select 1::int1 # 1::float4;
 ?column? 
----------
 0
(1 row)

select 1::int2 # 1::float4;
 ?column? 
----------
        0
(1 row)

select 1::int4 # 1::float4;
 ?column? 
----------
        0
(1 row)

select 1::int8 # 1::float4;
 ?column? 
----------
        0
(1 row)

select 1::int1 # 1::float8;
 ?column? 
----------
 0
(1 row)

select 1::int2 # 1::float8;
 ?column? 
----------
        0
(1 row)

select 1::int4 # 1::float8;
 ?column? 
----------
        0
(1 row)

select 1::int8 # 1::float8;
 ?column? 
----------
        0
(1 row)

select 1::int1 # 1::text;
 ?column? 
----------
 0
(1 row)

select 1::int2 # 1::text;
 ?column? 
----------
        0
(1 row)

select 1::int4 # 1::text;
 ?column? 
----------
        0
(1 row)

select 1::int8 # 1::text;
 ?column? 
----------
        0
(1 row)

set dolphin.b_compatibility_mode to on;
select 1::int1 & 1::float4;
 ?column? 
----------
 1
(1 row)

select 1::int2 & 1::float4;
 ?column? 
----------
        1
(1 row)

select 1::int4 & 1::float4;
 ?column? 
----------
        1
(1 row)

select 1::int8 & 1::float4;
 ?column? 
----------
        1
(1 row)

select 1::int1 & 1::float8;
 ?column? 
----------
 1
(1 row)

select 1::int2 & 1::float8;
 ?column? 
----------
        1
(1 row)

select 1::int4 & 1::float8;
 ?column? 
----------
        1
(1 row)

select 1::int8 & 1::float8;
 ?column? 
----------
        1
(1 row)

select 1::int1 & 1::text;
 ?column? 
----------
 1
(1 row)

select 1::int2 & 1::text;
 ?column? 
----------
        1
(1 row)

select 1::int4 & 1::text;
 ?column? 
----------
        1
(1 row)

select 1::int8 & 1::text;
 ?column? 
----------
        1
(1 row)

select 1::int1 | 1::float4;
 ?column? 
----------
 1
(1 row)

select 1::int2 | 1::float4;
 ?column? 
----------
        1
(1 row)

select 1::int4 | 1::float4;
 ?column? 
----------
        1
(1 row)

select 1::int8 | 1::float4;
 ?column? 
----------
        1
(1 row)

select 1::int1 | 1::float8;
 ?column? 
----------
 1
(1 row)

select 1::int2 | 1::float8;
 ?column? 
----------
        1
(1 row)

select 1::int4 | 1::float8;
 ?column? 
----------
        1
(1 row)

select 1::int8 | 1::float8;
 ?column? 
----------
        1
(1 row)

select 1::int1 | 1::text;
 ?column? 
----------
 1
(1 row)

select 1::int2 | 1::text;
 ?column? 
----------
        1
(1 row)

select 1::int4 | 1::text;
 ?column? 
----------
        1
(1 row)

select 1::int8 | 1::text;
 ?column? 
----------
        1
(1 row)

create table t1(a bit default 0,b int default b'0', c bit default 0::int unsigned, d int unsigned default b'0');
desc t1;
 Field |  Type   | Null | Key |   Default   | Extra 
-------+---------+------+-----+-------------+-------
 a     | bit(1)  | YES  |     | 0           | 
 b     | integer | YES  |     | B'0'::"bit" | 
 c     | bit(1)  | YES  |     | (0)::uint4  | 
 d     | uint4   | YES  |     | B'0'::"bit" | 
(4 rows)

insert into t1 values (default,default,default,default);
select * from t1;
 a | b | c | d 
---+---+---+---
 0 | 0 | 0 | 0
(1 row)

drop table t1;
create table test1(id int, ptype varchar(30));
insert into test1 values (1, 'type1');
insert into test1 values (2, 'type2');
insert into test1 values (3, 'type3');
select * from test1 t1 where t1.id = 1 and binary(t1.ptype) in ('type1'::varchar, 'type2'::varchar);
 id | ptype 
----+-------
  1 | type1
(1 row)

select * from test1 t1 where t1.id = 1 and binary(t1.ptype) in ('type1'::char(30), 'type2'::char(30));
 id | ptype 
----+-------
  1 | type1
(1 row)

select * from test1 t1 where t1.id = 1 and binary(t1.ptype)::varbinary(30) in ('type1'::varchar, 'type2'::varchar);
 id | ptype 
----+-------
  1 | type1
(1 row)

select * from test1 t1 where t1.id = 1 and binary(t1.ptype)::varbinary(30) in ('type1'::char(30), 'type2'::char(30));
 id | ptype 
----+-------
  1 | type1
(1 row)

drop table test1;
drop schema implicit_cast cascade;
reset current_schema;
