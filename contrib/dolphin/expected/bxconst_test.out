create schema bxconst_test;
set current_schema to 'bxconst_test';

set dolphin.b_compatibility_mode to on;

create table t_bit(a bit(16));
create table t_bin(a binary(6));

select b'11100000111000';
    ?column?
----------------
 11100000111000
(1 row)

select pg_typeof(b'11100000111000');
 pg_typeof
-----------
 bit
(1 row)

select x'4c';
 ?column?
----------
 01001100
(1 row)

select pg_typeof(x'4c');
 pg_typeof
-----------
 bit
(1 row)

insert into t_bit values(b'11100000111000'), (x'4c');
insert into t_bin values(b'11100000111000'), (x'4c');

select * from t_bit;
        a
------------------
 0011100000111000
 0000000001001100
(2 rows)

select * from t_bin;
       a
----------------
 \x313433393200
 \x373600000000
(2 rows)

drop table t_bit;
drop table t_bin;

set dolphin.sql_mode = treat_bxconst_as_binary;

create table t_bit(a bit(16));
create table t_bin(a binary(6));

select b'11100000111000';
 ?column?
----------
 \x3838
(1 row)

select pg_typeof(b'11100000111000');
 pg_typeof
-----------
 "binary"
(1 row)

select x'4c';
 ?column?
----------
 \x4c
(1 row)

select pg_typeof(x'4c');
 pg_typeof
-----------
 "binary"
(1 row)

insert into t_bit values(b'11000100110001'), (x'3130');
insert into t_bin values(b'11000100110001'), (x'3130');

select * from t_bit;
        a
------------------
 0000000000000011
 0000000000000010
(2 rows)

select * from t_bin;
       a
----------------
 \x313100000000
 \x313000000000
(2 rows)

drop table t_bit;
drop table t_bin;

reset dolphin.sql_mode;

drop schema bxconst_test cascade;
reset current_schema;
