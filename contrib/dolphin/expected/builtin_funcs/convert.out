create schema db_convert;
set current_schema to 'db_convert';
select convert(1 using 'utf8');
 convert 
---------
 1
(1 row)

select convert('1' using 'utf8');
 convert 
---------
 1
(1 row)

select convert('a' using 'utf8');
 convert 
---------
 a
(1 row)

select convert(1.1 using 'utf8');
 convert 
---------
 1.1
(1 row)

select convert(null using 'utf8');
 convert 
---------
 
(1 row)

select convert(1);
ERROR:  syntax error at or near ")"
LINE 1: select convert(1);
                        ^
select convert(1 using 'utf8');
 convert 
---------
 1
(1 row)

select convert(1 using 'gbk');
 convert 
---------
 1
(1 row)

select convert(1 using 'utf8');
 convert 
---------
 1
(1 row)

select convert('测试' using 'utf8');
 convert 
---------
 测试
(1 row)

select convert('测试' using utf8);
 convert 
---------
 测试
(1 row)

select convert('测试' using gbk);
 convert 
---------
 测试
(1 row)

select convert('测试' using latin1);
 convert 
---------
 ??
(1 row)

select convert(11.1, decimal(10,3));
 numeric 
---------
  11.100
(1 row)

select convert(1 using decimal(10,3));
 numeric 
---------
   1.000
(1 row)

select pg_typeof(convert('1', char));
 pg_typeof 
-----------
 character
(1 row)

select pg_typeof(convert('1', char(10)));
 pg_typeof 
-----------
 character
(1 row)

set dolphin.b_compatibility_mode = on;
select pg_typeof(convert('1', char));
     pg_typeof     
-------------------
 character varying
(1 row)

select pg_typeof(convert('1', char(10)));
     pg_typeof     
-------------------
 character varying
(1 row)

drop schema db_convert cascade;
reset current_schema;
