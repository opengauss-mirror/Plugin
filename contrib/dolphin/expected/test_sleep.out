create schema test_sleep;
set current_schema to 'test_sleep';
select sleep(1);
 sleep 
-------
     0
(1 row)

select sleep(2);
 sleep 
-------
     0
(1 row)

-- 非严格模式，参数不合法，报warning，返回0
set dolphin.sql_mode = 'sql_mode_full_group';
select sleep(-1);
WARNING:  Incorrect arguments to sleep.
CONTEXT:  referenced column: sleep
 sleep 
-------
     0
(1 row)

select sleep(null);
WARNING:  Incorrect arguments to sleep.
CONTEXT:  referenced column: sleep
 sleep 
-------
     0
(1 row)

select sleep('a');
WARNING:  invalid input syntax for type double precision: "a"
LINE 1: select sleep('a');
                     ^
CONTEXT:  referenced column: sleep
WARNING:  invalid input syntax for type double precision: "a"
LINE 1: select sleep('a');
                     ^
CONTEXT:  referenced column: sleep
 sleep 
-------
     0
(1 row)

-- 严格模式，参数不合法，报error
set dolphin.sql_mode = 'sql_mode_strict';
select sleep(-1);
ERROR:  Incorrect arguments to sleep.
CONTEXT:  referenced column: sleep
select sleep(null);
ERROR:  Incorrect arguments to sleep.
CONTEXT:  referenced column: sleep
select sleep('a');
ERROR:  invalid input syntax for type double precision: "a"
LINE 1: select sleep('a');
                     ^
CONTEXT:  referenced column: sleep
set dolphin.sql_mode = '';
select sleep('0000-00-00'::date);
 sleep 
-------
     0
(1 row)

drop schema test_sleep cascade;
reset current_schema;
