create schema db_do_stmt;
set current_schema to 'db_do_stmt';
create table t1 (a int);
insert into t1 values(1),(4),(7);
select a from t1;
 a 
---
 1
 4
 7
(3 rows)

--simple expr;
do 1;
do 1+1;
do 1+3;
do 2*4;
--multi expr
do 1,1,1,1;
do 1+1,2,3+3;
do 1+3,6;
do 2*4,9;
-- function
do sin(1);
do pg_sleep(1);
do exp(x);
ERROR:  column "x" does not exist
LINE 1: SELECT exp(x)
                   ^
QUERY:  SELECT exp(x)
CONTEXT:  referenced column: exp
PL/pgSQL function inline_code_block line 1 at PERFORM
-- function multi
do sin(1),exp(1);
do pg_sleep(1),sin(1);
--error stmt
do sin(1) limit 1;
ERROR:  syntax error at or near "limit"
LINE 1: do sin(1) limit 1;
                  ^
--origin do stmt
DO $$
BEGIN
  perform  2,3,4;
END;
$$
;
DO $$
BEGIN
  perform  2;
END;
$$
LANGUAGE SQL;
ERROR:  language "sql" does not support inline code execution
-- error when has table
do sin(a) from t1;
ERROR:  syntax error at or near "from"
LINE 1: do sin(a) from t1;
                  ^
drop schema db_do_stmt cascade;
NOTICE:  drop cascades to table t1
reset current_schema;
