-- test for insert/update ignore.
create schema sql_ignore_invalid_input_test;
set current_schema to 'sql_ignore_invalid_input_test';
set timezone to 'PRC';
-- type: tinyint
drop table if exists t_tinyint;
NOTICE:  table "t_tinyint" does not exist, skipping
create table t_tinyint(c tinyint);
insert ignore into t_tinyint values('12a34');
insert ignore into t_tinyint values('12555a34');
WARNING:  value "12555a34" is out of range for type tinyint. truncated automatically
LINE 1: insert ignore into t_tinyint values('12555a34');
                                            ^
CONTEXT:  referenced column: c
insert ignore into t_tinyint values('-12555a34');
WARNING:  value "-12555a34" is out of range for type tinyint. truncated automatically
LINE 1: insert ignore into t_tinyint values('-12555a34');
                                            ^
CONTEXT:  referenced column: c
insert ignore into t_tinyint values('aaa123a34');
insert ignore into t_tinyint values('abcde');
insert ignore into t_tinyint values('');
WARNING:  invalid input syntax for integer: ""
LINE 1: insert ignore into t_tinyint values('');
                                            ^
CONTEXT:  referenced column: c
select * from t_tinyint;
  c   
------
 12
 127
 -128
 0
 0
 0
(6 rows)

update ignore t_tinyint set c = '12a34';
-- type: tinyint unsigned
drop table if exists t_tinyint_unsigned;
NOTICE:  table "t_tinyint_unsigned" does not exist, skipping
create table t_tinyint_unsigned(c tinyint unsigned);
insert ignore into t_tinyint_unsigned values('12a34');
insert ignore into t_tinyint_unsigned values('12555a34');
WARNING:  value "12555a34" is out of range for type tinyint unsigned. truncated automatically
LINE 1: insert ignore into t_tinyint_unsigned values('12555a34');
                                                     ^
CONTEXT:  referenced column: c
insert ignore into t_tinyint_unsigned values('-12555a34');
WARNING:  value "-12555a34" is out of range for type tinyint unsigned. truncated automatically
LINE 1: insert ignore into t_tinyint_unsigned values('-12555a34');
                                                     ^
CONTEXT:  referenced column: c
insert ignore into t_tinyint_unsigned values('aaa123a34');
insert ignore into t_tinyint_unsigned values('abcde');
insert ignore into t_tinyint_unsigned values('');
WARNING:  invalid input syntax for integer: ""
LINE 1: insert ignore into t_tinyint_unsigned values('');
                                                     ^
CONTEXT:  referenced column: c
select * from t_tinyint_unsigned;
  c  
-----
 12
 255
 0
 0
 0
 0
(6 rows)

update ignore t_tinyint_unsigned set c = '12a34';
-- type: smallint
drop table if exists t_smallint;
NOTICE:  table "t_smallint" does not exist, skipping
create table t_smallint(c smallint);
insert ignore into t_smallint values ('12a34');
insert ignore into t_smallint values ('123333333333333a34');
WARNING:  value "123333333333333a34" is out of range for type smallint
LINE 1: insert ignore into t_smallint values ('123333333333333a34');
                                              ^
CONTEXT:  referenced column: c
insert ignore into t_smallint values ('-123333333333333a34');
WARNING:  value "-123333333333333a34" is out of range for type smallint
LINE 1: insert ignore into t_smallint values ('-123333333333333a34')...
                                              ^
CONTEXT:  referenced column: c
insert ignore into t_smallint values ('aaa1234a5');
insert ignore into t_smallint values ('abcde');
insert ignore into t_smallint values ('');
WARNING:  invalid input syntax for smallint: ""
LINE 1: insert ignore into t_smallint values ('');
                                              ^
CONTEXT:  referenced column: c
select * from t_smallint;
   c    
--------
     12
  32767
 -32768
      0
      0
      0
(6 rows)

update ignore t_smallint set c = '12a34';
-- type: smallint unsigned
drop table if exists t_smallint_unsigned;
NOTICE:  table "t_smallint_unsigned" does not exist, skipping
create table t_smallint_unsigned(c smallint unsigned);
insert ignore into t_smallint_unsigned values ('12a34');
insert ignore into t_smallint_unsigned values ('123333333333333a34');
insert ignore into t_smallint_unsigned values ('-123333333333333a34');
insert ignore into t_smallint_unsigned values ('aaa1234a5');
WARNING:  invalid input syntax for smallint unsigned: "aaa1234a5"
LINE 1: insert ignore into t_smallint_unsigned values ('aaa1234a5');
                                                       ^
CONTEXT:  referenced column: c
insert ignore into t_smallint_unsigned values ('abcde');
WARNING:  invalid input syntax for smallint unsigned: "abcde"
LINE 1: insert ignore into t_smallint_unsigned values ('abcde');
                                                       ^
CONTEXT:  referenced column: c
insert ignore into t_smallint_unsigned values ('');
WARNING:  invalid input syntax for smallint unsigned: ""
LINE 1: insert ignore into t_smallint_unsigned values ('');
                                                       ^
CONTEXT:  referenced column: c
select * from t_smallint_unsigned;
   c   
-------
 12
 65535
 0
 0
 0
 0
(6 rows)

update ignore t_smallint_unsigned set c = '12a34';
-- type: int4
drop table if exists t_int;
NOTICE:  table "t_int" does not exist, skipping
create table t_int(c int);
insert ignore into t_int values ('12a34');
insert ignore into t_int values ('123333333333333333333333333a34');
WARNING:  value "123333333333333333333333333a34" is out of range for type integer
LINE 1: insert ignore into t_int values ('12333333333333333333333333...
                                         ^
CONTEXT:  referenced column: c
insert ignore into t_int values ('-123333333333333333333333333a34');
WARNING:  value "-123333333333333333333333333a34" is out of range for type integer
LINE 1: insert ignore into t_int values ('-1233333333333333333333333...
                                         ^
CONTEXT:  referenced column: c
insert ignore into t_int values ('aaa123a45');
insert ignore into t_int values ('abcde');
insert ignore into t_int values ('');
WARNING:  invalid input syntax for integer: ""
LINE 1: insert ignore into t_int values ('');
                                         ^
CONTEXT:  referenced column: c
select * from t_int;
      c      
-------------
          12
  2147483647
 -2147483648
           0
           0
           0
(6 rows)

update ignore t_int set c = '12a34';
-- type: int4 unsigned
drop table if exists t_int_unsigned;
NOTICE:  table "t_int_unsigned" does not exist, skipping
create table t_int_unsigned(c int unsigned);
insert ignore into t_int_unsigned values ('12a34');
insert ignore into t_int_unsigned values ('123333333333333333333333333a34');
insert ignore into t_int_unsigned values ('-123333333333333333333333333a34');
insert ignore into t_int_unsigned values ('aaa123a45');
WARNING:  invalid input syntax for int unsigned: "aaa123a45"
LINE 1: insert ignore into t_int_unsigned values ('aaa123a45');
                                                  ^
CONTEXT:  referenced column: c
insert ignore into t_int_unsigned values ('abcde');
WARNING:  invalid input syntax for int unsigned: "abcde"
LINE 1: insert ignore into t_int_unsigned values ('abcde');
                                                  ^
CONTEXT:  referenced column: c
insert ignore into t_int_unsigned values ('');
WARNING:  invalid input syntax for int unsigned: ""
LINE 1: insert ignore into t_int_unsigned values ('');
                                                  ^
CONTEXT:  referenced column: c
select * from t_int_unsigned;
     c      
------------
 12
 4294967295
 0
 0
 0
 0
(6 rows)

update ignore t_int_unsigned set c = '12a34';
-- type: bigint
drop table if exists t_bigint;
NOTICE:  table "t_bigint" does not exist, skipping
create table t_bigint(c bigint);
insert ignore into t_bigint values ('12a34');
WARNING:  invalid input syntax for type bigint: "12a34"
LINE 1: insert ignore into t_bigint values ('12a34');
                                            ^
CONTEXT:  referenced column: c
insert ignore into t_bigint values ('123333333333333333333333333333333333333333333333333333333333333333333333333333333333333a34');
WARNING:  value "123333333333333333333333333333333333333333333333333333333333333333333333333333333333333a34" is out of range for type bigint
LINE 1: insert ignore into t_bigint values ('12333333333333333333333...
                                            ^
CONTEXT:  referenced column: c
insert ignore into t_bigint values ('-123333333333333333333333333333333333333333333333333333333333333333333333333333333333333a34');
WARNING:  value "-123333333333333333333333333333333333333333333333333333333333333333333333333333333333333a34" is out of range for type bigint
LINE 1: insert ignore into t_bigint values ('-1233333333333333333333...
                                            ^
CONTEXT:  referenced column: c
insert ignore into t_bigint values ('aaa123a45');
WARNING:  invalid input syntax for type bigint: "aaa123a45"
LINE 1: insert ignore into t_bigint values ('aaa123a45');
                                            ^
CONTEXT:  referenced column: c
insert ignore into t_bigint values ('abcde');
WARNING:  invalid input syntax for type bigint: "abcde"
LINE 1: insert ignore into t_bigint values ('abcde');
                                            ^
CONTEXT:  referenced column: c
insert ignore into t_bigint values ('');
WARNING:  invalid input syntax for bigint: ""
LINE 1: insert ignore into t_bigint values ('');
                                            ^
CONTEXT:  referenced column: c
select * from t_bigint;
          c           
----------------------
                   12
  9223372036854775807
 -9223372036854775808
                    0
                    0
                    0
(6 rows)

update ignore t_bigint set c = '12a34';
WARNING:  invalid input syntax for type bigint: "12a34"
LINE 1: update ignore t_bigint set c = '12a34';
                                       ^
CONTEXT:  referenced column: c
-- type: bigint unsigned
drop table if exists t_bigint_unsigned;
NOTICE:  table "t_bigint_unsigned" does not exist, skipping
create table t_bigint_unsigned(c bigint unsigned);
insert ignore into t_bigint_unsigned values ('12a34');
insert ignore into t_bigint_unsigned values ('123333333333333333333333333333333333333333333333333333333333333333333333333333333333333a34');
WARNING:  value "123333333333333333333333333333333333333333333333333333333333333333333333333333333333333a34" is out of range for type bigint unsigned
LINE 1: insert ignore into t_bigint_unsigned values ('12333333333333...
                                                     ^
CONTEXT:  referenced column: c
insert ignore into t_bigint_unsigned values ('-123333333333333333333333333333333333333333333333333333333333333333333333333333333333333a34');
WARNING:  value "-123333333333333333333333333333333333333333333333333333333333333333333333333333333333333a34" is out of range for type bigint unsigned
LINE 1: insert ignore into t_bigint_unsigned values ('-1233333333333...
                                                     ^
CONTEXT:  referenced column: c
WARNING:  value "-123333333333333333333333333333333333333333333333333333333333333333333333333333333333333a34" is out of range for type bigint unsigned
LINE 1: insert ignore into t_bigint_unsigned values ('-1233333333333...
                                                     ^
CONTEXT:  referenced column: c
insert ignore into t_bigint_unsigned values ('aaa123a45');
WARNING:  invalid input syntax for type bigint unsigned: "aaa123a45"
LINE 1: insert ignore into t_bigint_unsigned values ('aaa123a45');
                                                     ^
CONTEXT:  referenced column: c
insert ignore into t_bigint_unsigned values ('abcde');
WARNING:  invalid input syntax for type bigint unsigned: "abcde"
LINE 1: insert ignore into t_bigint_unsigned values ('abcde');
                                                     ^
CONTEXT:  referenced column: c
insert ignore into t_bigint_unsigned values ('');
WARNING:  invalid input syntax for type bigint unsigned: ""
LINE 1: insert ignore into t_bigint_unsigned values ('');
                                                     ^
CONTEXT:  referenced column: c
select * from t_bigint_unsigned;
          c           
----------------------
 12
 18446744073709551615
 0
 0
 0
 0
(6 rows)

update ignore t_bigint_unsigned set c = '12a34';
-- type: float4
drop table if exists t_float4;
NOTICE:  table "t_float4" does not exist, skipping
create table t_float4(c float4);
insert ignore into t_float4 values ('12.123a34');
insert ignore into t_float4 values ('123333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333.123a34');
WARNING:  value out of range: overflow
LINE 1: insert ignore into t_float4 values ('12333333333333333333333...
                                            ^
CONTEXT:  referenced column: c
insert ignore into t_float4 values ('-123333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333.123a34');
WARNING:  value out of range: overflow
LINE 1: insert ignore into t_float4 values ('-1233333333333333333333...
                                            ^
CONTEXT:  referenced column: c
insert ignore into t_float4 values ('aaa123.12a45');
insert ignore into t_float4 values ('abcde');
insert ignore into t_float4 values ('');
WARNING:  invalid input syntax for type real: ""
LINE 1: insert ignore into t_float4 values ('');
                                            ^
CONTEXT:  referenced column: c
select * from t_float4;
      c       
--------------
       12.123
  3.40282e+38
 -3.40282e+38
            0
            0
            0
(6 rows)

update ignore t_float4 set c = '12a34';
-- type: float8
drop table if exists t_float8;
NOTICE:  table "t_float8" does not exist, skipping
create table t_float8(c float8);
insert ignore into t_float8 values ('12.123a34');
insert ignore into t_float8 values ('3333333331892038097432987589432759843769348605436304758493758943758943758943759843756983760945860948605948765487689547893475893475918920380974329875894327598437693486054363047584937589437589437589437598437569837609458609486059487654876895478934758934759627346378267863475863875648365843734895749837589437589473988.18920380974329875894327598437693486054363047584937589437589437589437598437569837609458609486059487654876895478934758934759189203809743298758943275984376934860543630475849375894375894375894375984375698376094586094860594876548768954789347589347593874894375984aaa34');
WARNING:  "3333333331892038097432987589432759843769348605436304758493758943758943758943759843756983760945860948605948765487689547893475893475918920380974329875894327598437693486054363047584937589437589437589437598437569837609458609486059487654876895478934758934759627346378267863475863875648365843734895749837589437589473988.18920380974329875894327598437693486054363047584937589437589437589437598437569837609458609486059487654876895478934758934759189203809743298758943275984376934860543630475849375894375894375894375984375698376094586094860594876548768954789347589347593874894375984aaa34" is out of range for type double precision
LINE 1: insert ignore into t_float8 values ('33333333318920380974329...
                                            ^
CONTEXT:  referenced column: c
insert ignore into t_float8 values ('-3333333331892038097432987589432759843769348605436304758493758943758943758943759843756983760945860948605948765487689547893475893475918920380974329875894327598437693486054363047584937589437589437589437598437569837609458609486059487654876895478934758934759627346378267863475863875648365843734895749837589437589473988.18920380974329875894327598437693486054363047584937589437589437589437598437569837609458609486059487654876895478934758934759189203809743298758943275984376934860543630475849375894375894375894375984375698376094586094860594876548768954789347589347593874894375984aaa34');
WARNING:  "-3333333331892038097432987589432759843769348605436304758493758943758943758943759843756983760945860948605948765487689547893475893475918920380974329875894327598437693486054363047584937589437589437589437598437569837609458609486059487654876895478934758934759627346378267863475863875648365843734895749837589437589473988.18920380974329875894327598437693486054363047584937589437589437589437598437569837609458609486059487654876895478934758934759189203809743298758943275984376934860543630475849375894375894375894375984375698376094586094860594876548768954789347589347593874894375984aaa34" is out of range for type double precision
LINE 1: insert ignore into t_float8 values ('-3333333331892038097432...
                                            ^
CONTEXT:  referenced column: c
insert ignore into t_float8 values ('aaa123.12a45');
insert ignore into t_float8 values ('abcde');
insert ignore into t_float8 values ('');
WARNING:  invalid input syntax for type double precision: ""
LINE 1: insert ignore into t_float8 values ('');
                                            ^
CONTEXT:  referenced column: c
select * from t_float8;
           c            
------------------------
                 12.123
  1.79769313486232e+308
 -1.79769313486232e+308
                      0
                      0
                      0
(6 rows)

update ignore t_float8 set c = '12a34';
-- type: numeric
create table t_numeric(c numeric(1000, 100));
insert ignore into t_numeric values ('12.123a34');
WARNING:  invalid input syntax for type numeric: "12.123a34"
LINE 1: insert ignore into t_numeric values ('12.123a34');
                                             ^
CONTEXT:  referenced column: c
insert ignore into t_numeric values ('333331892038097432987589432759843769348605436304758493758943758943758943759843756983760945860948605948765487689547893475893475918920380974329875894327598437693486054363047584937589437589437589437598437569837609458609486059487654876895478934758934759627346378267863475863875648365843734895749837589437589473988.18920380974329875894327598437693486054363047584937589437589437589437598437569837609458609486059487654876895478934758934759189203809743298758943275984376934860543630475849375894375894375894375984375698376094586094860594876548768954789347589347593874894375984aaa34');
WARNING:  invalid input syntax for type numeric: "333331892038097432987589432759843769348605436304758493758943758943758943759843756983760945860948605948765487689547893475893475918920380974329875894327598437693486054363047584937589437589437589437598437569837609458609486059487654876895478934758934759627346378267863475863875648365843734895749837589437589473988.18920380974329875894327598437693486054363047584937589437589437589437598437569837609458609486059487654876895478934758934759189203809743298758943275984376934860543630475849375894375894375894375984375698376094586094860594876548768954789347589347593874894375984aaa34"
LINE 1: insert ignore into t_numeric values ('3333318920380974329875...
                                             ^
CONTEXT:  referenced column: c
insert ignore into t_numeric values ('-333331892038097432987589432759843769348605436304758493758943758943758943759843756983760945860948605948765487689547893475893475918920380974329875894327598437693486054363047584937589437589437589437598437569837609458609486059487654876895478934758934759627346378267863475863875648365843734895749837589437589473988.18920380974329875894327598437693486054363047584937589437589437589437598437569837609458609486059487654876895478934758934759189203809743298758943275984376934860543630475849375894375894375894375984375698376094586094860594876548768954789347589347593874894375984aaa34');
WARNING:  invalid input syntax for type numeric: "-333331892038097432987589432759843769348605436304758493758943758943758943759843756983760945860948605948765487689547893475893475918920380974329875894327598437693486054363047584937589437589437589437598437569837609458609486059487654876895478934758934759627346378267863475863875648365843734895749837589437589473988.18920380974329875894327598437693486054363047584937589437589437589437598437569837609458609486059487654876895478934758934759189203809743298758943275984376934860543630475849375894375894375894375984375698376094586094860594876548768954789347589347593874894375984aaa34"
LINE 1: insert ignore into t_numeric values ('-333331892038097432987...
                                             ^
CONTEXT:  referenced column: c
insert ignore into t_numeric values ('aaa123.12a45');
insert ignore into t_numeric values ('abcde');
insert ignore into t_numeric values ('');
WARNING:  invalid input syntax for numeric: ""
LINE 1: insert ignore into t_numeric values ('');
                                             ^
CONTEXT:  referenced column: c
select * from t_numeric;
                                                                                                                                                                                                              c                                                                                                                                                                                                              
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
                                                                                                                                                                                                                                                                                                                     12.1230000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
  333331892038097432987589432759843769348605436304758493758943758943758943759843756983760945860948605948765487689547893475893475918920380974329875894327598437693486054363047584937589437589437589437598437569837609458609486059487654876895478934758934759627346378267863475863875648365843734895749837589437589473988.1892038097432987589432759843769348605436304758493758943758943758943759843756983760945860948605948765
 -333331892038097432987589432759843769348605436304758493758943758943758943759843756983760945860948605948765487689547893475893475918920380974329875894327598437693486054363047584937589437589437589437598437569837609458609486059487654876895478934758934759627346378267863475863875648365843734895749837589437589473988.1892038097432987589432759843769348605436304758493758943758943758943759843756983760945860948605948765
                                                                                                                                                                                                                                                                                                                      0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
                                                                                                                                                                                                                                                                                                                      0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
                                                                                                                                                                                                                                                                                                                      0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
(6 rows)

update ignore t_numeric set c = '12a34';
WARNING:  invalid input syntax for type numeric: "12a34"
LINE 1: update ignore t_numeric set c = '12a34';
                                        ^
CONTEXT:  referenced column: c
-- type: date
create table t_date(c date);
insert ignore into t_date values('12a34');
WARNING:  invalid input syntax for type date: "12a34"
LINE 1: insert ignore into t_date values('12a34');
                                         ^
CONTEXT:  referenced column: c
insert ignore into t_date values('123a34');
WARNING:  invalid input syntax for type date: "123a34"
LINE 1: insert ignore into t_date values('123a34');
                                         ^
CONTEXT:  referenced column: c
insert ignore into t_date values('12aaaaaaa34');
WARNING:  invalid input syntax for type date: "12aaaaaaa34"
LINE 1: insert ignore into t_date values('12aaaaaaa34');
                                         ^
CONTEXT:  referenced column: c
insert ignore into t_date values('aaaaaaa12aaaaaaa34');
WARNING:  invalid input syntax for type date: "aaaaaaa12aaaaaaa34"
LINE 1: insert ignore into t_date values('aaaaaaa12aaaaaaa34');
                                         ^
CONTEXT:  referenced column: c
insert ignore into t_date values('abcde');
WARNING:  invalid input syntax for type date: "abcde"
LINE 1: insert ignore into t_date values('abcde');
                                         ^
CONTEXT:  referenced column: c
insert ignore into t_date values('');
WARNING:  invalid input syntax for type date: ""
LINE 1: insert ignore into t_date values('');
                                         ^
CONTEXT:  referenced column: c
select * from t_date;
     c      
------------
 00-00-0000
 00-00-0000
 00-00-0000
 00-00-0000
 00-00-0000
 00-00-0000
(6 rows)

update ignore t_date set c = '12a34';
WARNING:  invalid input syntax for type date: "12a34"
LINE 1: update ignore t_date set c = '12a34';
                                     ^
CONTEXT:  referenced column: c
-- type: time
create table t_time(c time);
insert ignore into t_time values('12a34');
WARNING:  invalid input syntax for type time: "12a34"
LINE 1: insert ignore into t_time values('12a34');
                                         ^
CONTEXT:  referenced column: c
insert ignore into t_time values('123a34');
WARNING:  invalid input syntax for type time: "123a34"
LINE 1: insert ignore into t_time values('123a34');
                                         ^
CONTEXT:  referenced column: c
insert ignore into t_time values('12aaaaaaa34');
WARNING:  invalid input syntax for type time: "12aaaaaaa34"
LINE 1: insert ignore into t_time values('12aaaaaaa34');
                                         ^
CONTEXT:  referenced column: c
insert ignore into t_time values('aaaaaaa12aaaaaaa34');
WARNING:  invalid input syntax for type time: "aaaaaaa12aaaaaaa34"
LINE 1: insert ignore into t_time values('aaaaaaa12aaaaaaa34');
                                         ^
CONTEXT:  referenced column: c
insert ignore into t_time values('abcde');
WARNING:  invalid input syntax for type time: "abcde"
LINE 1: insert ignore into t_time values('abcde');
                                         ^
CONTEXT:  referenced column: c
insert ignore into t_time values('');
select * from t_time;
    c     
----------
 00:00:12
 00:00:00
 00:00:12
 00:00:00
 00:00:00
 00:00:00
(6 rows)

update ignore t_time set c = '12a34';
WARNING:  invalid input syntax for type time: "12a34"
LINE 1: update ignore t_time set c = '12a34';
                                     ^
CONTEXT:  referenced column: c
-- type: timestamp
create table t_timestamp(c timestamp);
insert  ignore into t_timestamp values('12a34');
WARNING:  invalid input syntax for type timestamp: "12a34"
LINE 1: insert  ignore into t_timestamp values('12a34');
                                               ^
CONTEXT:  referenced column: c
insert  ignore into t_timestamp values('abcde');
WARNING:  invalid input syntax for type timestamp: "abcde"
LINE 1: insert  ignore into t_timestamp values('abcde');
                                               ^
CONTEXT:  referenced column: c
insert  ignore into t_timestamp values('aaaaaa12a34');
WARNING:  invalid input syntax for type timestamp: "aaaaaa12a34"
LINE 1: insert  ignore into t_timestamp values('aaaaaa12a34');
                                               ^
CONTEXT:  referenced column: c
insert  ignore into t_timestamp values('');
WARNING:  invalid input syntax for type timestamp: ""
LINE 1: insert  ignore into t_timestamp values('');
                                               ^
CONTEXT:  referenced column: c
select * from t_timestamp;
              c               
------------------------------
--?.*
--?.*
--?.*
--?.*
(4 rows)

update ignore t_timestamp set c = '12a34';
WARNING:  invalid input syntax for type timestamp: "12a34"
LINE 1: update ignore t_timestamp set c = '12a34';
                                          ^
CONTEXT:  referenced column: c
-- type: timestamptz
create table t_timestamptz(c timestamptz);
insert  ignore into t_timestamptz values('12a34');
WARNING:  invalid input syntax for type timestamp: "12a34"
LINE 1: insert  ignore into t_timestamptz values('12a34');
                                                 ^
CONTEXT:  referenced column: c
insert  ignore into t_timestamptz values('abcde');
WARNING:  invalid input syntax for type timestamp: "abcde"
LINE 1: insert  ignore into t_timestamptz values('abcde');
                                                 ^
CONTEXT:  referenced column: c
insert  ignore into t_timestamptz values('aaaaaa12a34');
WARNING:  invalid input syntax for type timestamp: "aaaaaa12a34"
LINE 1: insert  ignore into t_timestamptz values('aaaaaa12a34');
                                                 ^
CONTEXT:  referenced column: c
insert  ignore into t_timestamptz values('');
WARNING:  invalid input syntax for type timestamp: ""
LINE 1: insert  ignore into t_timestamptz values('');
                                                 ^
CONTEXT:  referenced column: c
select * from t_timestamptz;
              c               
------------------------------
--?.*
--?.*
--?.*
--?.*
(4 rows)

update ignore t_timestamptz set c = '12a34';
WARNING:  invalid input syntax for type timestamp: "12a34"
LINE 1: update ignore t_timestamptz set c = '12a34';
                                            ^
CONTEXT:  referenced column: c
-- type: timetz
create table t_timetz(c timetz);
insert ignore into t_timetz values('12a34');
WARNING:  invalid input syntax for type time with time zone: "12a34"
LINE 1: insert ignore into t_timetz values('12a34');
                                           ^
CONTEXT:  referenced column: c
insert ignore into t_timetz values('123a34');
WARNING:  invalid input syntax for type time with time zone: "123a34"
LINE 1: insert ignore into t_timetz values('123a34');
                                           ^
CONTEXT:  referenced column: c
insert ignore into t_timetz values('12aaaaaaa34');
WARNING:  invalid input syntax for type time with time zone: "12aaaaaaa34"
LINE 1: insert ignore into t_timetz values('12aaaaaaa34');
                                           ^
CONTEXT:  referenced column: c
insert ignore into t_timetz values('aaaaaaa12aaaaaaa34');
WARNING:  invalid input syntax for type time with time zone: "aaaaaaa12aaaaaaa34"
LINE 1: insert ignore into t_timetz values('aaaaaaa12aaaaaaa34');
                                           ^
CONTEXT:  referenced column: c
insert ignore into t_timetz values('abcde');
WARNING:  invalid input syntax for type time with time zone: "abcde"
LINE 1: insert ignore into t_timetz values('abcde');
                                           ^
CONTEXT:  referenced column: c
insert ignore into t_timetz values('');
WARNING:  invalid input syntax for type time with time zone: ""
LINE 1: insert ignore into t_timetz values('');
                                           ^
CONTEXT:  referenced column: c
select * from t_timetz;
      c      
-------------
 00:00:12+00
 00:00:00+00
 00:00:12+00
 00:00:00+00
 00:00:00+00
 00:00:00+00
(6 rows)

update ignore t_timetz set c = '12a34';
WARNING:  invalid input syntax for type time with time zone: "12a34"
LINE 1: update ignore t_timetz set c = '12a34';
                                       ^
CONTEXT:  referenced column: c
-- type: interval
create table t_interval(c interval);
insert ignore into t_interval values('12a34');
WARNING:  invalid input syntax for type interval: "12a34"
LINE 1: insert ignore into t_interval values('12a34');
                                             ^
CONTEXT:  referenced column: c
insert ignore into t_interval values('123a34');
WARNING:  invalid input syntax for type interval: "123a34"
LINE 1: insert ignore into t_interval values('123a34');
                                             ^
CONTEXT:  referenced column: c
insert ignore into t_interval values('12aaaaaaa34');
WARNING:  invalid input syntax for type interval: "12aaaaaaa34"
LINE 1: insert ignore into t_interval values('12aaaaaaa34');
                                             ^
CONTEXT:  referenced column: c
insert ignore into t_interval values('aaaaaaa12aaaaaaa34');
WARNING:  invalid input syntax for type interval: "aaaaaaa12aaaaaaa34"
LINE 1: insert ignore into t_interval values('aaaaaaa12aaaaaaa34');
                                             ^
CONTEXT:  referenced column: c
insert ignore into t_interval values('abcde');
WARNING:  invalid input syntax for type interval: "abcde"
LINE 1: insert ignore into t_interval values('abcde');
                                             ^
CONTEXT:  referenced column: c
insert ignore into t_interval values('');
WARNING:  invalid input syntax for type interval: ""
LINE 1: insert ignore into t_interval values('');
                                             ^
CONTEXT:  referenced column: c
select * from t_interval;
  c  
-----
 @ 0
 @ 0
 @ 0
 @ 0
 @ 0
 @ 0
(6 rows)

update ignore t_interval set c = '12a34';
WARNING:  invalid input syntax for type interval: "12a34"
LINE 1: update ignore t_interval set c = '12a34';
                                         ^
CONTEXT:  referenced column: c
-- type: tinterval
create table t_tinterval(c tinterval);
insert ignore into t_tinterval values('12a34');
WARNING:  invalid input syntax for type tinterval: "12a34"
LINE 1: insert ignore into t_tinterval values('12a34');
                                              ^
CONTEXT:  referenced column: c
insert ignore into t_tinterval values('123a34');
WARNING:  invalid input syntax for type tinterval: "123a34"
LINE 1: insert ignore into t_tinterval values('123a34');
                                              ^
CONTEXT:  referenced column: c
insert ignore into t_tinterval values('12aaaaaaa34');
WARNING:  invalid input syntax for type tinterval: "12aaaaaaa34"
LINE 1: insert ignore into t_tinterval values('12aaaaaaa34');
                                              ^
CONTEXT:  referenced column: c
insert ignore into t_tinterval values('aaaaaaa12aaaaaaa34');
WARNING:  invalid input syntax for type tinterval: "aaaaaaa12aaaaaaa34"
LINE 1: insert ignore into t_tinterval values('aaaaaaa12aaaaaaa34');
                                              ^
CONTEXT:  referenced column: c
insert ignore into t_tinterval values('abcde');
WARNING:  invalid input syntax for type tinterval: "abcde"
LINE 1: insert ignore into t_tinterval values('abcde');
                                              ^
CONTEXT:  referenced column: c
insert ignore into t_tinterval values('');
WARNING:  invalid input syntax for type tinterval: ""
LINE 1: insert ignore into t_tinterval values('');
                                              ^
CONTEXT:  referenced column: c
select * from t_tinterval;
                                c                                
-----------------------------------------------------------------
 ["Thu Jan 01 08:00:00 1970 CST" "Thu Jan 01 08:00:00 1970 CST"]
 ["Thu Jan 01 08:00:00 1970 CST" "Thu Jan 01 08:00:00 1970 CST"]
 ["Thu Jan 01 08:00:00 1970 CST" "Thu Jan 01 08:00:00 1970 CST"]
 ["Thu Jan 01 08:00:00 1970 CST" "Thu Jan 01 08:00:00 1970 CST"]
 ["Thu Jan 01 08:00:00 1970 CST" "Thu Jan 01 08:00:00 1970 CST"]
 ["Thu Jan 01 08:00:00 1970 CST" "Thu Jan 01 08:00:00 1970 CST"]
(6 rows)

update ignore t_tinterval set c = '12a34';
WARNING:  invalid input syntax for type tinterval: "12a34"
LINE 1: update ignore t_tinterval set c = '12a34';
                                          ^
CONTEXT:  referenced column: c
-- type: smalldatetime
create table t_smalldatetime(c smalldatetime);
insert ignore into t_smalldatetime values('12a34');
WARNING:  invalid input syntax for type smalldatetime: "12a34"
LINE 1: insert ignore into t_smalldatetime values('12a34');
                                                  ^
CONTEXT:  referenced column: c
insert ignore into t_smalldatetime values('123a34');
WARNING:  invalid input syntax for type smalldatetime: "123a34"
LINE 1: insert ignore into t_smalldatetime values('123a34');
                                                  ^
CONTEXT:  referenced column: c
insert ignore into t_smalldatetime values('12aaaaaaa34');
WARNING:  invalid input syntax for type smalldatetime: "12aaaaaaa34"
LINE 1: insert ignore into t_smalldatetime values('12aaaaaaa34');
                                                  ^
CONTEXT:  referenced column: c
insert ignore into t_smalldatetime values('aaaaaaa12aaaaaaa34');
WARNING:  invalid input syntax for type smalldatetime: "aaaaaaa12aaaaaaa34"
LINE 1: insert ignore into t_smalldatetime values('aaaaaaa12aaaaaaa3...
                                                  ^
CONTEXT:  referenced column: c
insert ignore into t_smalldatetime values('abcde');
WARNING:  invalid input syntax for type smalldatetime: "abcde"
LINE 1: insert ignore into t_smalldatetime values('abcde');
                                                  ^
CONTEXT:  referenced column: c
insert ignore into t_smalldatetime values('');
WARNING:  invalid input syntax for type smalldatetime: ""
LINE 1: insert ignore into t_smalldatetime values('');
                                                  ^
CONTEXT:  referenced column: c
select * from t_smalldatetime;
            c             
--------------------------
 Thu Jan 01 00:00:00 1970
 Thu Jan 01 00:00:00 1970
 Thu Jan 01 00:00:00 1970
 Thu Jan 01 00:00:00 1970
 Thu Jan 01 00:00:00 1970
 Thu Jan 01 00:00:00 1970
(6 rows)

update ignore t_smalldatetime set c = '12a34';
WARNING:  invalid input syntax for type smalldatetime: "12a34"
LINE 1: update ignore t_smalldatetime set c = '12a34';
                                              ^
CONTEXT:  referenced column: c
-- type: uuid
create table t_uuid(c uuid);
insert ignore into t_uuid values('12a34');
WARNING:  invalid input syntax for uuid: "12a34"
LINE 1: insert ignore into t_uuid values('12a34');
                                         ^
CONTEXT:  referenced column: c
insert ignore into t_uuid values('');
WARNING:  invalid input syntax for uuid: ""
LINE 1: insert ignore into t_uuid values('');
                                         ^
CONTEXT:  referenced column: c
update ignore t_uuid set c = '12a34';
WARNING:  invalid input syntax for uuid: "12a34"
LINE 1: update ignore t_uuid set c = '12a34';
                                     ^
CONTEXT:  referenced column: c
select * from t_uuid;
                  c                   
--------------------------------------
 00000000-0000-0000-0000-000000000000
 00000000-0000-0000-0000-000000000000
(2 rows)

-- type: point
create table t_point(c point);
insert ignore into t_point values('12a34');
WARNING:  invalid input syntax for type point: "12a34"
LINE 1: insert ignore into t_point values('12a34');
                                          ^
CONTEXT:  referenced column: c
insert ignore into t_point values('');
WARNING:  invalid input syntax for type point: ""
LINE 1: insert ignore into t_point values('');
                                          ^
CONTEXT:  referenced column: c
select * from t_point;
   c   
-------
 (0,0)
 (0,0)
(2 rows)

update ignore t_point set c = '12a34';
WARNING:  invalid input syntax for type point: "12a34"
LINE 1: update ignore t_point set c = '12a34';
                                      ^
CONTEXT:  referenced column: c
select * from t_point;
   c   
-------
 (0,0)
 (0,0)
(2 rows)

-- type: path
create table t_path(c path);
insert ignore into t_path values('12a34');
WARNING:  invalid input syntax for type path: "12a34"
LINE 1: insert ignore into t_path values('12a34');
                                         ^
CONTEXT:  referenced column: c
insert ignore into t_path values('');
WARNING:  invalid input syntax for type path: ""
LINE 1: insert ignore into t_path values('');
                                         ^
CONTEXT:  referenced column: c
select * from t_path;
    c    
---------
 ((0,0))
 ((0,0))
(2 rows)

update ignore t_path set c = '12a34';
WARNING:  invalid input syntax for type path: "12a34"
LINE 1: update ignore t_path set c = '12a34';
                                     ^
CONTEXT:  referenced column: c
select * from t_path;
    c    
---------
 ((0,0))
 ((0,0))
(2 rows)

-- type: polygon
create table t_polygon(c polygon);
insert ignore into t_polygon values('12a34');
WARNING:  invalid input syntax for type polygon: "12a34"
LINE 1: insert ignore into t_polygon values('12a34');
                                            ^
CONTEXT:  referenced column: c
insert ignore into t_polygon values('');
WARNING:  invalid input syntax for type polygon: ""
LINE 1: insert ignore into t_polygon values('');
                                            ^
CONTEXT:  referenced column: c
select * from t_polygon;
    c    
---------
 ((0,0))
 ((0,0))
(2 rows)

update ignore t_polygon set c = '12a34';
WARNING:  invalid input syntax for type polygon: "12a34"
LINE 1: update ignore t_polygon set c = '12a34';
                                        ^
CONTEXT:  referenced column: c
select * from t_polygon;
    c    
---------
 ((0,0))
 ((0,0))
(2 rows)

-- type: circle
create table t_circle(c circle);
insert ignore into t_circle values('12a34');
WARNING:  invalid input syntax for type circle: "12a34"
LINE 1: insert ignore into t_circle values('12a34');
                                           ^
CONTEXT:  referenced column: c
insert ignore into t_circle values('');
WARNING:  invalid input syntax for type circle: ""
LINE 1: insert ignore into t_circle values('');
                                           ^
CONTEXT:  referenced column: c
select * from t_circle;
     c     
-----------
 <(0,0),0>
 <(0,0),0>
(2 rows)

update ignore t_circle set c = '12a34';
WARNING:  invalid input syntax for type circle: "12a34"
LINE 1: update ignore t_circle set c = '12a34';
                                       ^
CONTEXT:  referenced column: c
select * from t_circle;
     c     
-----------
 <(0,0),0>
 <(0,0),0>
(2 rows)

-- type: lseg
create table t_lseg(c lseg);
insert ignore into t_lseg values('12a34');
WARNING:  invalid input syntax for type lseg: "12a34"
LINE 1: insert ignore into t_lseg values('12a34');
                                         ^
CONTEXT:  referenced column: c
insert ignore into t_lseg values('');
WARNING:  invalid input syntax for type lseg: ""
LINE 1: insert ignore into t_lseg values('');
                                         ^
CONTEXT:  referenced column: c
select * from t_lseg;
       c       
---------------
 [(0,0),(0,0)]
 [(0,0),(0,0)]
(2 rows)

update ignore t_lseg set c = '12a34';
WARNING:  invalid input syntax for type lseg: "12a34"
LINE 1: update ignore t_lseg set c = '12a34';
                                     ^
CONTEXT:  referenced column: c
select * from t_lseg;
       c       
---------------
 [(0,0),(0,0)]
 [(0,0),(0,0)]
(2 rows)

-- type: box
create table t_box(c box);
insert ignore into t_box values('12a34');
WARNING:  invalid input syntax for type box: "12a34"
LINE 1: insert ignore into t_box values('12a34');
                                        ^
CONTEXT:  referenced column: c
insert ignore into t_box values('');
WARNING:  invalid input syntax for type box: ""
LINE 1: insert ignore into t_box values('');
                                        ^
CONTEXT:  referenced column: c
select * from t_box;
      c      
-------------
 (0,0),(0,0)
 (0,0),(0,0)
(2 rows)

update ignore t_box set c = '12a34';
WARNING:  invalid input syntax for type box: "12a34"
LINE 1: update ignore t_box set c = '12a34';
                                    ^
CONTEXT:  referenced column: c
select * from t_box;
      c      
-------------
 (0,0),(0,0)
 (0,0),(0,0)
(2 rows)

-- type: json
create table t_json(c json);
insert ignore into t_json values('12a34');
WARNING:  invalid input syntax for type json
LINE 1: insert ignore into t_json values('12a34');
                                         ^
CONTEXT:  referenced column: c
insert ignore into t_json values('');
WARNING:  invalid input syntax for type json
LINE 1: insert ignore into t_json values('');
                                         ^
CONTEXT:  referenced column: c
insert ignore into t_json values('');
WARNING:  invalid input syntax for type json
LINE 1: insert ignore into t_json values('');
                                         ^
CONTEXT:  referenced column: c
insert ignore into t_json values('');
WARNING:  invalid input syntax for type json
LINE 1: insert ignore into t_json values('');
                                         ^
CONTEXT:  referenced column: c
insert ignore into t_json values('');
WARNING:  invalid input syntax for type json
LINE 1: insert ignore into t_json values('');
                                         ^
CONTEXT:  referenced column: c
insert ignore into t_json values('');
WARNING:  invalid input syntax for type json
LINE 1: insert ignore into t_json values('');
                                         ^
CONTEXT:  referenced column: c
insert ignore into t_json values('');
WARNING:  invalid input syntax for type json
LINE 1: insert ignore into t_json values('');
                                         ^
CONTEXT:  referenced column: c
select * from t_json;
  c   
------
 null
 null
 null
 null
 null
 null
 null
(7 rows)

update ignore t_json set c = '12a34';
WARNING:  invalid input syntax for type json
LINE 1: update ignore t_json set c = '12a34';
                                     ^
CONTEXT:  referenced column: c
select * from t_json;
  c   
------
 null
 null
 null
 null
 null
 null
 null
(7 rows)

-- type: jsonb
create table t_jsonb(c jsonb);
insert ignore into t_jsonb values('12a34');
WARNING:  invalid input syntax for type json
LINE 1: insert ignore into t_jsonb values('12a34');
                                          ^
CONTEXT:  referenced column: c
insert ignore into t_jsonb values('');
WARNING:  invalid input syntax for type json
LINE 1: insert ignore into t_jsonb values('');
                                          ^
CONTEXT:  referenced column: c
insert ignore into t_jsonb values('');
WARNING:  invalid input syntax for type json
LINE 1: insert ignore into t_jsonb values('');
                                          ^
CONTEXT:  referenced column: c
insert ignore into t_jsonb values('');
WARNING:  invalid input syntax for type json
LINE 1: insert ignore into t_jsonb values('');
                                          ^
CONTEXT:  referenced column: c
insert ignore into t_jsonb values('');
WARNING:  invalid input syntax for type json
LINE 1: insert ignore into t_jsonb values('');
                                          ^
CONTEXT:  referenced column: c
insert ignore into t_jsonb values('');
WARNING:  invalid input syntax for type json
LINE 1: insert ignore into t_jsonb values('');
                                          ^
CONTEXT:  referenced column: c
insert ignore into t_jsonb values('');
WARNING:  invalid input syntax for type json
LINE 1: insert ignore into t_jsonb values('');
                                          ^
CONTEXT:  referenced column: c
select * from t_jsonb;
  c   
------
 null
 null
 null
 null
 null
 null
 null
(7 rows)

update ignore t_jsonb set c = '12a34';
WARNING:  invalid input syntax for type json
LINE 1: update ignore t_jsonb set c = '12a34';
                                      ^
CONTEXT:  referenced column: c
select * from t_jsonb;
  c   
------
 null
 null
 null
 null
 null
 null
 null
(7 rows)

-- type: bit
create table t_bit(c bit);
insert ignore into t_bit values('12a34');
WARNING:  "2" is not a valid binary digit
LINE 1: insert ignore into t_bit values('12a34');
                                        ^
CONTEXT:  referenced column: c
insert ignore into t_bit values('');
select * from t_bit;
 c 
---
 0
 0
(2 rows)

update ignore t_bit set c = '12a34';
WARNING:  "2" is not a valid binary digit
LINE 1: update ignore t_bit set c = '12a34';
                                    ^
CONTEXT:  referenced column: c
select * from t_bit;
 c 
---
 0
 0
(2 rows)

-- test net types
reset sql_ignore_strategy;
show sql_ignore_strategy;
 sql_ignore_strategy 
---------------------
 ignore_null
(1 row)

create table net(
    c1 cidr not null,
    c2 inet  not null,
    c3 macaddr not null
);
insert ignore into net values('', '', '');
WARNING:  invalid input syntax for type cidr: ""
LINE 1: insert ignore into net values('', '', '');
                                      ^
CONTEXT:  referenced column: c1
WARNING:  invalid input syntax for type inet: ""
LINE 1: insert ignore into net values('', '', '');
                                          ^
CONTEXT:  referenced column: c2
WARNING:  invalid input syntax for type macaddr: ""
LINE 1: insert ignore into net values('', '', '');
                                              ^
CONTEXT:  referenced column: c3
insert ignore into net values(null, null, null);
WARNING:  null value in column "c1" violates not-null constraint
DETAIL:  Failing row contains (null, null, null).
insert ignore into net values(1::int, 1.1::float, 'sdfdf'::time);
WARNING:  invalid input syntax for type time: "sdfdf"
LINE 1: insert ignore into net values(1::int, 1.1::float, 'sdfdf'::t...
                                                          ^
WARNING:  column "c1" is of type cidr but expression is of type integer. Data truncated automatically.
CONTEXT:  referenced column: c1
WARNING:  column "c2" is of type inet but expression is of type real. Data truncated automatically.
CONTEXT:  referenced column: c2
WARNING:  column "c3" is of type macaddr but expression is of type time without time zone. Data truncated automatically.
CONTEXT:  referenced column: c3
set sql_ignore_strategy='overwrite_null';
insert ignore into net values(null, null, null);
WARNING:  null value in column "c1" violates not-null constraint
DETAIL:  Failing row contains (null, null, null).
insert ignore into net values(1::int, 1.1::float, 'sdfdf'::time);
WARNING:  invalid input syntax for type time: "sdfdf"
LINE 1: insert ignore into net values(1::int, 1.1::float, 'sdfdf'::t...
                                                          ^
WARNING:  column "c1" is of type cidr but expression is of type integer. Data truncated automatically.
CONTEXT:  referenced column: c1
WARNING:  column "c2" is of type inet but expression is of type real. Data truncated automatically.
CONTEXT:  referenced column: c2
WARNING:  column "c3" is of type macaddr but expression is of type time without time zone. Data truncated automatically.
CONTEXT:  referenced column: c3
select * from net;
     c1     |   c2    |        c3         
------------+---------+-------------------
 0.0.0.0/32 | 0.0.0.0 | 00:00:00:00:00:00
 0.0.0.0/32 | 0.0.0.0 | 00:00:00:00:00:00
 0.0.0.0/32 | 0.0.0.0 | 00:00:00:00:00:00
 0.0.0.0/32 | 0.0.0.0 | 00:00:00:00:00:00
(4 rows)

reset sql_ignore_strategy;
-- test range types
create table ran(
    c1 numrange not null,
    c2 int8range not null,
    c3 int4range not null,
    c4 tsrange not null,
    c5 tstzrange not null,
    c6 daterange not null
);
insert ignore into ran values('', '', '', '', '', '');
WARNING:  malformed range literal: ""
LINE 1: insert ignore into ran values('', '', '', '', '', '');
                                      ^
DETAIL:  Missing left parenthesis or bracket.
CONTEXT:  referenced column: c1
WARNING:  malformed range literal: ""
LINE 1: insert ignore into ran values('', '', '', '', '', '');
                                          ^
DETAIL:  Missing left parenthesis or bracket.
CONTEXT:  referenced column: c2
WARNING:  malformed range literal: ""
LINE 1: insert ignore into ran values('', '', '', '', '', '');
                                              ^
DETAIL:  Missing left parenthesis or bracket.
CONTEXT:  referenced column: c3
WARNING:  malformed range literal: ""
LINE 1: insert ignore into ran values('', '', '', '', '', '');
                                                  ^
DETAIL:  Missing left parenthesis or bracket.
CONTEXT:  referenced column: c4
WARNING:  malformed range literal: ""
LINE 1: insert ignore into ran values('', '', '', '', '', '');
                                                      ^
DETAIL:  Missing left parenthesis or bracket.
CONTEXT:  referenced column: c5
WARNING:  malformed range literal: ""
LINE 1: insert ignore into ran values('', '', '', '', '', '');
                                                          ^
DETAIL:  Missing left parenthesis or bracket.
CONTEXT:  referenced column: c6
insert ignore into ran values(null, null, null, null, null, null);
WARNING:  null value in column "c1" violates not-null constraint
DETAIL:  Failing row contains (null, null, null, null, null, null).
set sql_ignore_strategy='overwrite_null';
insert ignore into ran values(null, null, null, null, null, null);
WARNING:  null value in column "c1" violates not-null constraint
DETAIL:  Failing row contains (null, null, null, null, null, null).
select * from ran;
  c1   |  c2   |  c3   |  c4   |  c5   |  c6   
-------+-------+-------+-------+-------+-------
 empty | empty | empty | empty | empty | empty
 empty | empty | empty | empty | empty | empty
(2 rows)

reset sql_ignore_strategy;
-- test hash & tsvector types
create table hashvec(
    c1 hash16 not null,
    c2 hash32 not null,
    c3 tsvector not null
);
insert ignore into hashvec values('', '', '');
WARNING:  invalid input syntax for hash32: ""
LINE 1: insert ignore into hashvec values('', '', '');
                                              ^
CONTEXT:  referenced column: c2
insert ignore into hashvec values(null, null, null);
WARNING:  null value in column "c1" violates not-null constraint
DETAIL:  Failing row contains (null, null, null).
insert ignore into hashvec values(1::int, 1.1::float, 'sdfdf'::time);
WARNING:  invalid input syntax for type time: "sdfdf"
LINE 1: ...rt ignore into hashvec values(1::int, 1.1::float, 'sdfdf'::t...
                                                             ^
WARNING:  column "c1" is of type hash16 but expression is of type integer. Data truncated automatically.
CONTEXT:  referenced column: c1
WARNING:  column "c2" is of type hash32 but expression is of type real. Data truncated automatically.
CONTEXT:  referenced column: c2
WARNING:  column "c3" is of type tsvector but expression is of type time without time zone. Data truncated automatically.
CONTEXT:  referenced column: c3
set sql_ignore_strategy='overwrite_null';
insert ignore into hashvec values(null, null, null);
WARNING:  null value in column "c1" violates not-null constraint
DETAIL:  Failing row contains (null, null, null).
insert ignore into hashvec values(1::int, 1.1::float, 'sdfdf'::time);
WARNING:  invalid input syntax for type time: "sdfdf"
LINE 1: ...rt ignore into hashvec values(1::int, 1.1::float, 'sdfdf'::t...
                                                             ^
WARNING:  column "c1" is of type hash16 but expression is of type integer. Data truncated automatically.
CONTEXT:  referenced column: c1
WARNING:  column "c2" is of type hash32 but expression is of type real. Data truncated automatically.
CONTEXT:  referenced column: c2
WARNING:  column "c3" is of type tsvector but expression is of type time without time zone. Data truncated automatically.
CONTEXT:  referenced column: c3
select * from hashvec;
        c1        |                c2                | c3 
------------------+----------------------------------+----
 0000000000000000 | 00000000000000000000000000000000 | 
 0000000000000000 | 00000000000000000000000000000000 | 
 0000000000000000 | 00000000000000000000000000000000 | 
 0000000000000000 | 00000000000000000000000000000000 | 
(4 rows)

reset sql_ignore_strategy;
-- test bit varying
create table varbit(
    c1 BIT VARYING(5) not null
);
insert ignore into varbit values('');
insert ignore into varbit values(null);
WARNING:  null value in column "c1" violates not-null constraint
DETAIL:  Failing row contains (null).
insert ignore into varbit values('sdfdf'::time);
WARNING:  invalid input syntax for type time: "sdfdf"
LINE 1: insert ignore into varbit values('sdfdf'::time);
                                         ^
WARNING:  column "c1" is of type bit varying but expression is of type time without time zone. Data truncated automatically.
CONTEXT:  referenced column: c1
set sql_ignore_strategy='overwrite_null';
insert ignore into varbit values(null);
WARNING:  null value in column "c1" violates not-null constraint
DETAIL:  Failing row contains (null).
insert ignore into varbit values(1::int);
WARNING:  column "c1" is of type bit varying but expression is of type integer. Data truncated automatically.
CONTEXT:  referenced column: c1
insert ignore into varbit values('sdfdf'::time);
WARNING:  invalid input syntax for type time: "sdfdf"
LINE 1: insert ignore into varbit values('sdfdf'::time);
                                         ^
WARNING:  column "c1" is of type bit varying but expression is of type time without time zone. Data truncated automatically.
CONTEXT:  referenced column: c1
select * from varbit;
 c1 
----
 
 
 
 
 
(5 rows)

reset sql_ignore_strategy;
drop table net, ran, hashvec, varbit;
-- restore context
reset timezone;
show timezone;
 TimeZone 
----------
 PST8PDT
(1 row)

drop schema sql_ignore_invalid_input_test cascade;
NOTICE:  drop cascades to 29 other objects
DETAIL:  drop cascades to table t_tinyint
drop cascades to table t_tinyint_unsigned
drop cascades to table t_smallint
drop cascades to table t_smallint_unsigned
drop cascades to table t_int
drop cascades to table t_int_unsigned
drop cascades to table t_bigint
drop cascades to table t_bigint_unsigned
drop cascades to table t_float4
drop cascades to table t_float8
drop cascades to table t_numeric
drop cascades to table t_date
drop cascades to table t_time
drop cascades to table t_timestamp
drop cascades to table t_timestamptz
drop cascades to table t_timetz
drop cascades to table t_interval
drop cascades to table t_tinterval
drop cascades to table t_smalldatetime
drop cascades to table t_uuid
drop cascades to table t_point
drop cascades to table t_path
drop cascades to table t_polygon
drop cascades to table t_circle
drop cascades to table t_lseg
drop cascades to table t_box
drop cascades to table t_json
drop cascades to table t_jsonb
drop cascades to table t_bit
reset current_schema;
