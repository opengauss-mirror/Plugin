\set ECHO all
/* Register alerts */
SELECT gms_alert.register('a1');
 register 
----------
 
(1 row)

SELECT gms_alert.register('a2');
 register 
----------
 
(1 row)

/* Test: multisession waitone */
SELECT gms_alert.waitone('a1',20);
      waitone      
-------------------
 ("Msg1 for a1",0)
(1 row)

/* Test: multisession waitany */
SELECT gms_alert.waitany(10);
       waitany        
----------------------
 (a2,"Msg1 for a2",0)
(1 row)

/* cleanup */
SELECT gms_alert.removeall();
 removeall 
-----------
 
(1 row)

