drop database if exists format_test;
NOTICE:  database "format_test" does not exist, skipping
create database format_test dbcompatibility 'B';
\c format_test
create extension b_sql_plugin;
select if(TRUE, 1, 2);
 case 
------
    1
(1 row)

select if(FALSE, 1, 2);
 case 
------
    2
(1 row)

-- wrong type for first param
select if('abc', 1, 2);
ERROR:  invalid input syntax for type boolean: "abc"
LINE 1: select if('abc', 1, 2);
                  ^
CONTEXT:  referenced column: case
\c postgres
drop database if exists format_test;
