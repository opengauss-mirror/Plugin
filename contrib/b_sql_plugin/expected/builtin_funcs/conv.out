drop database if exists format_test;
create database format_test dbcompatibility 'B';
\c format_test
create extension b_sql_plugin;
select conv('a',16,2);
 conv 
------
 1010
(1 row)

select conv('6e',18,8);
 conv 
------
 172
(1 row)

select conv(-17,10,-18);
 conv 
------
 -H
(1 row)

select conv('10'+10,16,10);
 conv 
------
 32
(1 row)

select conv('ffffffffffffffff',16,10);
         conv         
----------------------
 18446744073709551615
(1 row)

select conv('ffffffffffffffff',16,-10);
 conv 
------
 -1
(1 row)

select conv('-ffffffffffffffff',16,10);
 conv 
------
 1
(1 row)

select conv('-ffffffffffffffff',16,-10);
 conv 
------
 1
(1 row)

select conv('ffffffffffffffff1',16,10);
         conv         
----------------------
 18446744073709551615
(1 row)

select conv('ffffffffffffffff1',16,-10);
 conv 
------
 -1
(1 row)

select conv('-ffffffffffffffff1',16,10);
         conv         
----------------------
 18446744073709551615
(1 row)

select conv('-ffffffffffffffff1',16,-10);
 conv 
------
 -1
(1 row)

select conv('',16,16);
 conv 
------
 
(1 row)

select conv(5,4,10);
 conv 
------
 
(1 row)

select conv(1234,5,10);
 conv 
------
 194
(1 row)

select conv(-9223372036854775809,-10,16);
ERROR:  bigint out of range
CONTEXT:  referenced column: conv
select conv('8000000000000000',16,16);
       conv       
------------------
 8000000000000000
(1 row)

select conv(9223372036854775807,10,16);
       conv       
------------------
 7FFFFFFFFFFFFFFF
(1 row)

select conv(-9223372036854775808,10,16);
       conv       
------------------
 8000000000000000
(1 row)

select conv(9223372036854775807,-10,16);
       conv       
------------------
 7FFFFFFFFFFFFFFF
(1 row)

select conv(-9223372036854775808,-10,16);
       conv       
------------------
 8000000000000000
(1 row)

select conv(9223372036854775807,-10,-16);
       conv       
------------------
 7FFFFFFFFFFFFFFF
(1 row)

select conv(-9223372036854775808,-10,-16);
       conv        
-------------------
 -8000000000000000
(1 row)

select conv(9223372036854775807,10,-16);
       conv       
------------------
 7FFFFFFFFFFFFFFF
(1 row)

select conv(-9223372036854775808,10,-16);
       conv        
-------------------
 -8000000000000000
(1 row)

select conv(15632,16,36);
 conv 
------
 1VLE
(1 row)

select conv(-15632,16,32);
     conv      
---------------
 FVVVVVVVVTAEE
(1 row)

select conv(15632,-16,32);
 conv 
------
 2LHI
(1 row)

select conv(-15632,-16,32);
     conv      
---------------
 FVVVVVVVVTAEE
(1 row)

select conv(15632,-16,-32);
 conv 
------
 2LHI
(1 row)

select conv(-15632,-16,-32);
 conv  
-------
 -2LHI
(1 row)

select conv(15632,16,-32);
 conv 
------
 2LHI
(1 row)

select conv(-15632,16,-32);
 conv  
-------
 -2LHI
(1 row)

select conv('ffffffffffffffff',16,16);
       conv       
------------------
 FFFFFFFFFFFFFFFF
(1 row)

select conv('ffffffffffffffff',16,-16);
 conv 
------
 -1
(1 row)

select conv('ffffffffffffffff',-16,16);
       conv       
------------------
 7FFFFFFFFFFFFFFF
(1 row)

select conv('ffffffffffffffff',-16,-16);
       conv       
------------------
 7FFFFFFFFFFFFFFF
(1 row)

select conv('-ffffffffffffffff',16,16);
 conv 
------
 1
(1 row)

select conv('-ffffffffffffffff',16,-16);
 conv 
------
 1
(1 row)

select conv('-ffffffffffffffff',-16,16);
       conv       
------------------
 8000000000000000
(1 row)

select conv('-ffffffffffffffff',-16,-16);
       conv        
-------------------
 -8000000000000000
(1 row)

select conv('1ffffffffffffffff',16,16);
       conv       
------------------
 FFFFFFFFFFFFFFFF
(1 row)

select conv('1ffffffffffffffff',16,-16);
 conv 
------
 -1
(1 row)

select conv('1ffffffffffffffff',-16,16);
       conv       
------------------
 7FFFFFFFFFFFFFFF
(1 row)

select conv('1ffffffffffffffff',-16,-16);
       conv       
------------------
 7FFFFFFFFFFFFFFF
(1 row)

select conv('-1ffffffffffffffff',16,16);
       conv       
------------------
 FFFFFFFFFFFFFFFF
(1 row)

select conv('-1ffffffffffffffff',16,-16);
 conv 
------
 -1
(1 row)

select conv('-1ffffffffffffffff',-16,16);
       conv       
------------------
 8000000000000000
(1 row)

select conv('-1ffffffffffffffff',-16,-16);
       conv        
-------------------
 -8000000000000000
(1 row)

select conv('8000000000000000',16,16);
       conv       
------------------
 8000000000000000
(1 row)

select conv('8000000000000000',16,-16);
       conv        
-------------------
 -8000000000000000
(1 row)

select conv('8000000000000000',-16,16);
       conv       
------------------
 7FFFFFFFFFFFFFFF
(1 row)

select conv('8000000000000000',-16,-16);
       conv       
------------------
 7FFFFFFFFFFFFFFF
(1 row)

select conv('-8000000000000000',16,16);
       conv       
------------------
 8000000000000000
(1 row)

select conv('-8000000000000000',16,-16);
       conv        
-------------------
 -8000000000000000
(1 row)

select conv('-8000000000000000',-16,16);
       conv       
------------------
 8000000000000000
(1 row)

select conv('-8000000000000000',-16,-16);
       conv        
-------------------
 -8000000000000000
(1 row)

select conv('1',16,16);
 conv 
------
 1
(1 row)

select conv('1',16,-16);
 conv 
------
 1
(1 row)

select conv('1',-16,16);
 conv 
------
 1
(1 row)

select conv('1',-16,-16);
 conv 
------
 1
(1 row)

select conv('-1',16,16);
       conv       
------------------
 FFFFFFFFFFFFFFFF
(1 row)

select conv('-1',16,-16);
 conv 
------
 -1
(1 row)

select conv('-1',-16,16);
       conv       
------------------
 FFFFFFFFFFFFFFFF
(1 row)

select conv('-1',-16,-16);
 conv 
------
 -1
(1 row)

